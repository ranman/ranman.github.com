<!doctype html>
<html>
<head>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
<style type="text/css">
@media screen and {max-device-width: 480px} and (orientation:landscape) {
    .stage-left {
        left: -480px;
    }
    .stage-right {
        left: 480px;
    }
    .page {
        width: 480px;
    }
}
.page {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-transform: translate3d(0,0,0);
}
.stage-left {
    left: -480px;
}
.stage-right {
    left: 480px;
}
.stage-center {
    top: 0;
    left: 0;
}
</style>
<script type="text/javascript">
function slideTo(id) {
    var classes = document.getElementById(id).className.split(' ');
    var stageType = classes.indexOf('stage-left');
    if (FOCUS_PAGE == null) {
        FOCUS_PAGE = document.getElementById('home-page')
    }
    if (stageType > 0) {
        FOCUS_PAGE.className = 'page transition stage-right';
    } else {
        FOCUS_PAGE.className = 'page transition stage-left';
    }
    FOCUS_PAGE = document.getElementById(id);
    FOCUS_PAGE.className = 'page transition stage-center';
}
function pageMove(event) {
    var curTransform = new WebKitCSSMatrix(window.getCOmputedStyle(page).webkitTransform);
    var pagePosition = curTransform.m41;
    if (pagePosition >= 0) {
        if ((pagePosition > pageFlipThreshold) || (swipeTime < swipeThreshold)) {
            slideDirection = 'right';
        } else {
            slideDirection = null;
        }
    } else {
        if ((swipeTime < swipeThreshold) || (pagePosition < pageFlipThreshold)) {
            slideDirection = 'left';
        } else {
            slideDirection = null;
        }
    }
}
function positionPage(end) {
    page.style.webkitTransform = 'translate3d('+ currentPos + 'px, 0, 0)';
    if (end) {
        page.style.WebkitTransition = 'all .4s ease-out';
    } else {
        page.style.WebkitTransition = 'all .2s ease-out';
    }
    page.style.WebkitUserSelect = 'none';
}
track.ontouchend = function(event) {
    pageMove(event);
    if (slideDirection == 'left') {
        slideTo('products-page');
    } else if (slideDirection == 'right') {
        slideTo('home-page');
    }
}
</script>
</head>
<body>
    <div id="home-page" class="page">
        <h1>Home Page</h1>
    </div>
    <div id="products-page" class="page stage-right">
        <h1>Products Page</h1>
    </div>
    <div id="about-page" class="page stage-left">
        <h1>About Page</h1>
    </div>
</body>
</html>